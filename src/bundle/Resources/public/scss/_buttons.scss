@import 'extra-actions';

.ibexa-btn {
    display: inline-grid;
    grid-auto-flow: column dense;
    grid-gap: 10px;
    white-space: nowrap;
    padding: calculateRem(16px);
    outline: none;
    border: none;
    border-radius: $ibexa-border-radius;
    text-decoration: none;
    font-size: calculateRem(14px);
    // line-height: calculateRem(16px);
    transition: all 0.2s $ibexa-admin-transition, border-width 0s, padding 0s;

    $btn-focus-box-shadow: 0 0 0 calculateRem(3px) rgba($ibexa-color-primary, 0.2);
    $btn-hover-box-shadow: 0 calculateRem(22px) calculateRem(24px) 0 rgba($ibexa-color-danger, 0.2);
    $btn-hover-box-shadow-dark: 0 calculateRem(22px) calculateRem(24px) 0 rgba($ibexa-color-dark, 0.2);

    &:focus {
        box-shadow: $btn-focus-box-shadow;
    }

    &--primary {
        color: $ibexa-color-white;
        fill: $ibexa-color-white;
        background-image: linear-gradient(to right, $ibexa-color-danger 0%, $ibexa-color-primary 100%);

        &:hover {
            color: $ibexa-color-white;
            box-shadow: 0 0 0 transparent, $btn-hover-box-shadow;
        }

        &:hover:focus {
            box-shadow: $btn-focus-box-shadow, $btn-hover-box-shadow;
        }

        &:disabled {
            color: $ibexa-color-dark-400;
            fill: $ibexa-color-dark-400;
            background-image: none;
            background-color: $ibexa-color-light;
            box-shadow: none;
        }
    }

    &--secondary {
        color: $ibexa-color-primary;
        fill: $ibexa-color-primary;
        background-color: $ibexa-color-white;
        border: calculateRem(1px) solid $ibexa-color-primary-400;
        padding: calculateRem(15px);

        &:hover,
        &:focus {
            background-color: rgba($ibexa-color-primary, 0.2);
        }

        &:disabled {
            color: $ibexa-color-dark-400;
            fill: $ibexa-color-dark-400;
            border-color: $ibexa-color-dark-200;
            background-color: $ibexa-color-light-300;
        }
    }

    &--teriary {
        // TODO: check colors
        color: $ibexa-color-black-500;
        fill: $ibexa-color-black-500;
        background-color: $ibexa-color-white;
        border: calculateRem(1px) solid $ibexa-color-black-100;
        padding: calculateRem(15px) calculateRem(15px);

        &:hover {
            border-color: $ibexa-color-dark-500;
        }

        &:focus {
            border-color: $ibexa-color-black-100;
        }

        &:disabled {
            color: $ibexa-color-dark-300;
            fill: $ibexa-color-dark-300;
            border-color: $ibexa-color-dark-100;
            background-color: $ibexa-color-light-300;
        }
    }

    &--ghost {
        color: $ibexa-color-black-500;
        fill: $ibexa-color-black-500;
        background-color: $ibexa-color-white;

        &:hover {
            color: $ibexa-color-primary;
            fill: $ibexa-color-primary;
        }

        &:focus {
            padding: calculateRem(15px) calculateRem(15px);
            border: calculateRem(1px) solid $ibexa-color-primary;
        }

        &:disabled {
            color: $ibexa-color-dark-300;
            fill: $ibexa-color-dark-300;
        }
    }

    &--dark {
        color: $ibexa-color-white;
        fill: $ibexa-color-white;
        background-color: $ibexa-color-dark;

        &:hover {
            color: $ibexa-color-white;
            fill: $ibexa-color-white;
            box-shadow: 0 0 0 transparent, $btn-hover-box-shadow-dark;
        }

        &:hover:focus {
            box-shadow: $btn-focus-box-shadow, $btn-hover-box-shadow-dark;
        }

        &:disabled {
            color: $ibexa-color-dark-400;
            fill: $ibexa-color-dark-400;
            background-color: $ibexa-color-light;
            box-shadow: none;
        }
    }

    &--small {
        padding-top: calculateRem(8px);
        padding-bottom: calculateRem(8px);
        height: calculateRem(32px);
    }

    &--base-dark {
        color: $ibexa-color-base-dark;
        background-color: transparent;
        box-shadow: inset 0 0 0 calculateRem(1px) $ibexa-color-base-dark;

        &:hover {
            color: $ibexa-color-base-dark;
            background-color: $ibexa-color-base-light;
        }

        &:active {
            background-color: $ibexa-color-base-dark;
            box-shadow: inset 0 0 0 calculateRem(2px) $ibexa-color-base-dark;
        }

        .ez-icon {
            fill: $ibexa-color-base-dark;
        }
    }

    &--no-border {
        color: $ibexa-color-primary;
    }

    &--action-icon {
        .ez-icon {
            fill: $ibexa-color-base-dark;
        }
    }

    &--add-translation {
        .ez-icon {
            margin-right: 0;
        }
    }

    &__label {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    // .ez-icon:not(:only-child) {
    //     margin-right: calculateRem(12px);
    // }

    // .ez-icon {
    //     margin-right: calculateRem(12px);
    // }
}

.btn-icon {
    padding: 0;
}

.ez-side-menu,
.ez-context-menu {
    .ez-sticky-container > .btn {
        width: 100%;
        height: calculateRem(80px);
        padding: calculateRem(2px) calculateRem(4px);
        border: 0;
        border-radius: 0;
        text-decoration: none;
        font-size: calculateRem(13px);
        line-height: calculateRem(18px);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

        &:hover,
        &:focus {
            box-shadow: none;
            outline: none;
        }

        &:first-child {
            border-top-left-radius: $ibexa-border-radius;
            border-top-right-radius: $ibexa-border-radius;
        }

        &:last-child {
            border-bottom-left-radius: $ibexa-border-radius;
            border-bottom-right-radius: $ibexa-border-radius;
        }

        .ez-icon {
            display: block;
            width: calculateRem(24px);
            height: calculateRem(24px);
            margin: 0 auto calculateRem(5px);
        }

        &.ibexa-btn--active-button {
            &:hover {
                @extend .ibexa-btn--active-button;
            }
        }
    }
}

.ez-side-menu {
    .btn-dark {
        &:hover {
            background-color: lighten($ibexa-color-base-black, 7.5%);
        }

        &.ibexa-btn--content-tree-expanded {
            &:hover {
                @extend .ibexa-btn--content-tree-expanded;
            }
        }
    }
}

.ez-context-menu {
    .ez-sticky-container > .btn.disabled,
    .ez-sticky-container > .btn[disabled] {
        opacity: 1;
        color: rgba($ibexa-white, 0.5);

        .ez-icon {
            opacity: 0.5;
        }
    }
}

.btn.disabled,
.btn[disabled] {
    opacity: 1;
}

.ez-modal--trash-with-asset {
    .modal-footer {
        .btn-secondary {
            background-color: $ibexa-color-base-dark;
            border-color: $ibexa-color-base-dark;

            &:hover {
                background-color: $ibexa-color-base-dark;
                border-color: $ibexa-color-base-dark;
            }
        }
    }
}

.ez-content-view,
.ez-trash-list-view {
    .ez-modal--send-to-trash {
        .modal-footer {
            .form-check-inline {
                margin-right: 0;

                .btn-danger {
                    margin-right: 0;
                }
            }
        }
    }
}

.ibexa-btn--content-edit {
    background-color: transparent;
    cursor: pointer;
}

.ibexa-btn--cotf-create {
    display: flex;
    align-items: center;
}

.ibexa-btn--content-tree-expanded {
    background: $ibexa-white;
    border-color: $ibexa-white;
    color: $ibexa-black;
}

.ibexa-btn--wide,
.ibexa-btn.ibexa-btn--wide {
    padding: calculateRem(8px) calculateRem(48px);
}

.ibexa-btn--active-button {
    background-color: $ibexa-white;
    color: $ibexa-color-primary;
    border-color: $ibexa-white;

    .ez-icon {
        fill: $ibexa-color-primary;
    }
}

button:focus {
    outline: 0;
}
